<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset=utf-8 />
        <meta name='viewport' content='width=device-width, initial-scale=1'>

        <title>Hecate UI | Mapbox</title>

        <link rel='stylesheet' href='./main.css' />
        <link href="https://api.mapbox.com/mapbox-assembly/v0.19.0/assembly.min.css" rel="stylesheet">
        <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.19.0/assembly.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
        <script src='https://unpkg.com/vue'></script>
        <script src="https://unpkg.com/vue-multiselect@2.0.3"></script>
        <script src="https://unpkg.com/vue-clipboard2@0.0.8/dist/vue-clipboard.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/vue-multiselect@2.0.3/dist/vue-multiselect.min.css">
        <link href='https://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet' type='text/css'>
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.42.1/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v0.42.1/mapbox-gl.css' rel='stylesheet' />
        <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js'></script>
        <script src='./main.js'></script>
    </head>
    <body>
        <div id="app" class="relative">
            <div class='viewport-full relative scroll-hidden'>
                <div id="map" class='bg-darken10 viewport-twothirds viewport-full-ml absolute top left right bottom'></div>
                <div class='absolute top-ml left z1 w-full w240-ml px12 py12-ml'>
                    <div class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10'>
                        <div class='scroll-auto'>
                            <h3 class='px12 py12 txt-m txt-bold mb6'>Hecate Deltas</h3>

                            <div v-if="delta">
                                <div class='clearfix px12 py12 bg-gray-faint round-b-ml txt-s'>
                                    <button @click="delta = false" class='btn round bg-gray-light bg-darken25-on-hover color-gray-dark fl'><svg class='icon'><use xlink:href='#icon-arrow-left'/></button>
                                    <div class="px12 py3 txt-bold fl">Delta <span v-text="delta.id"></span></div>
                                </div>
                                <div v-for="feat, feat_it) in delta.features.features" class="px12 py3 clearfix bg-white bg-darken25-on-hover">
                                    <span v-if="feat.geometry.type === 'Point'" class="fl py6 px6"><svg class='icon'><use xlink:href='#icon-marker'/></span>
                                    <span v-if="feat.geometry.type === 'MultiPoint'" class="fl px6 px6"><svg class='icon'><use xlink:href='#icon-marker'/></span>
                                    <span v-if="feat.geometry.type === 'LineString'" class="fl px6 py6"><svg class='icon'><use xlink:href='#icon-polyline'/></span>
                                    <span v-if="feat.geometry.type === 'MultiLineString'" class="fl px6 py6"><svg class='icon'><use xlink:href='#icon-polyline'/></span>
                                    <span v-if="feat.geometry.type === 'Polygon'" class="fl px6 py6"><svg class='icon'><use xlink:href='#icon-polygon'/></span>
                                    <span v-if="feat.geometry.type === 'MultiPolygon'" class="fl px6 py6"><svg class='icon'><use xlink:href='#icon-polygon'/></span>

                                    <span class="fl" v-text="feat.id"></span>
                                    <span class="fl px6" v-text="feat.action"></span>
                                </div>
                            </div>
                            <div v-else>
                                <div class='px12 py12 bg-gray-faint round-b-ml txt-s'>
                                    <div class='select-container'>
                                        <select class='select select--s select--stroke'>
                                            <option>Latest First</option>
                                            <option>Earliest First</option>
                                        </select>
                                        <div class='select-arrow'></div>
                                    </div>
                                    <button @click="deltas_refresh" class='btn round bg-gray-light bg-darken25-on-hover color-gray-dark fr'><svg class='icon'><use xlink:href='#icon-refresh'/></button>
                                </div>
                                <div v-for="delta in deltas" @click="delta_get(delta.id)" class="px12 py12 border-b bg-darken10-on-hover border--gray-light cursor-pointer">
                                    <div class="clearfix">
                                        <div class="fl txt-bold" v-text="delta.username"></div>
                                        <div class="fr txt-em" v-text="moment(delta.created).fromNow()"></div>
                                    </div>
                                    <div v-text="delta.props.message"></div>
                                </div>
                            </div>
                        </div>
                        <div class='px12 py12 bg-gray-faint round-b-ml txt-s'>
                            <div align='center'><a href="https://github.com/ingalls/hecate">Powered By Hecate Server</a></div>
                        </div>
                    </div>
                </div>
                <div class='absolute top-mr right z1 px12 py12-ml'>
                    <div class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10'>
                        <button class='btn round bg-white bg-darken25-on-hover color-gray-dark fr'><svg class='icon'><use xlink:href='#icon-user'/></button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
